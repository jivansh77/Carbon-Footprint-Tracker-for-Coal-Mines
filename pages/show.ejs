<% layout("../layouts/boilerplate") %>

<div class="container-fluid">
    <div class="row mt-4">
        <div class="col-12 col-md-6">
            <div class="card">
                <div>
                    <img src="<%= mines.image %>" class="card-img-top" alt="">
                </div>
                <div class="card-body">
                    <h3 class="card-title"><%= mines.name%></h3>
                    <p class="card-text">
                        <%= mines.description %>
                    </p>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item text-secondary">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16">
                            <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/>
                          </svg>
                            
                        <%  if(mines.district === "---Select Your District---") {%>
                            Not Assigned,
                        <% } else { %>
                            <%= mines.district %>,
                        <% } %>

                        <%  if(mines.state === "---Select Your State---") {%>
                            Not Assigned
                        <% } else { %>
                            <%= mines.state %>
                        <% } %>
                    </li>
                </ul>
                <div class="card-body align-items-center">
                    <a href="/index/<%= mines._id%>/edit" class="card-link me-3"><button class="btn btn-success">Edit</button></a>
                    
                        <form action="/index/<%= mines._id%>?_method=DELETE" method="post" class="d-inline me-3">
                            <button class="btn btn-danger">Delete</button>
                        </form>
                    
                    <a href="/index" class="card-link">Back</a>
                </div>
            </div>
</div>
 
    <div class="col-12 col-md-6">
        <div class="card mb-3">
            
                <div class="card-body">
                  <h2 class="card-title text-center">Footprint Details</h2>
                  <div>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item fs-3">Total Footprint : <%= mines.result.totalFootprint %></li>
                      <li class="list-group-item">
                        <div class="card">
                            <div class="card-header">
                              Featured
                            </div>
                            <ul class="list-group list-group-flush">
                              <li class="list-group-item">An item</li>
                              <li class="list-group-item">A second item</li>
                              <li class="list-group-item">A third item</li>
                            </ul>
                        </div>
                        <div  id="chartContainer"></div>
                      </li>
                      <li class="list-group-item">A third item</li>
                    </ul>
                  </div>
                </div>
              
          </div>
    </div>
</div>
</div>




<style>
    svg{
        margin-bottom: 5px;
    }

    .row{
        width: 100%;
        height: 100vh;
    }
</style>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

       let lignite = <%= mines.factors.coalType.lignite %>

      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Lignite',     11],
          ['Sub-Bituminous',      2],
          ['Bituminous',  2],
          ['Anthracite', 2]

        ]);

        var options = {
          title: 'My Daily Activities',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('chartContainer'));
        chart.draw(data, options);
      }
    </script>